I want to develop web app in Python Ecosystem (Django/Flask or better alternatives) which is a multiplayer card game, were 2-6 players can visit a website in browser and play in real time according to predefined rules. Here are more detailed requirements:
1. 2-6 online multiplayer card game in browser, players connect via URL
2. When user opens URL there is a welcome screen with 'create room' button and list of available rooms to join. If there are no rooms, 'no rooms' text should be present. User can enter his username in the input field.
3. User can create a room or select one to join
4. When user creates or joins a room, a list players appears on the right. When everyone votes for start, the game can start.
5. Game consists of two phases. When the game starts, rules are the following: standard 36 card deck is shuffled, and each players gets 2 cards upside down (invisible to everyone including player himself) and 1 card on top of it which is visible to everyone. First phase of the game starts. Rest of the deck is put in the middle, and players draw from it in turns. When player draws a card, it can be stacked on his or another players card based on seniority - 7 on top of 6, 8 on 7, and so on. Player can see only the top card of the stack of another players, not all stack. If there are no lower seniority card to stack upon, he places it on top of his card. Each player takes turns until the deck is empty. SPECIAL RULE: if player misplaces a card, misses the chance to stack on top of lower card, or receives 6 on top of ace, his 'bad card' counter is incremented by one. When the deck is empty, players receive their stacks of cards on hand. They donate cards to player(s) who have 'bad card' counter (each player can give only number of cards from the counter, but not his last card on hand). Then second phase of the game starts and player who has drawn the last card will be the first to take a turn. Last drawn card becomes trump card. In the second phase players can’t see each others cards. Spades can be beaten only with spades, other suites can be beaten by corresponding suite or trump card. Spades cannot be beaten with trump card. Cards are discarded when total sum is equal to the number of players. If player cannot beat a card, he takes the bottom card from the pile. When player is out of cards, he can pick 2 cards which were hidden in the first phase and continue playing with them. When player is out of all cards, including hidden, he is out of the game. Whoever stays with cards on hand loses, and his hidden card counter increments by one (from 2 to 3) in the next round.
6.UI should have drag and drop mechanics for card placement, card beating, and card drawing.  

lets review and refine phase 1 rules and mechanics, please implement them in code:
1. 2 hidden cards are dealt in the very beginning and should be displayed on a game screen for each player, their values should be hidden but they should be visible on the screen
2. top card in the stack should be visible for each player on top of two hidden cards 
3. Loser from previous game has the first turn, if new game starts then first turn is decided by random
4. On first move, player should draw a card from the deck because he has only one card. Once card is drawn from the deck, its value is visible to everyone. 
5. On subsequent moves, if player has more than one card in his stack, he should first check if he can give away top card to someone else based on the rule (9 on 8, etc) before drawing. If he misses it and draws a card from the stack instead, ‘bad card’ counter gets incremented. If the rule applies for card from his stack, he can give the next top card if the rule allows. If it doesn’t allow he should draw from the deck. If player misplaces the card to another player stack not according to the rule, ‘bad card’ counter is incremented and his turn ends.
6. Once card is drawn from the deck, he can put it onto another players stack if the rule applies (7 on 6, etc) or in his stack. If the rule was applied (player placed 8 on 7, etc.), he should draw again until he can no longer apply the rule. In this case he places the card on top of his stack.
7. 6 can be placed on Ace, in this case ‘bad card’ counter is increased for a player who received 6 on top of Ace in his stack
8. Last drawn card suite determines the trump suite. If last card is spade, no trump suite is assigned.

 lets review and refine phase 2 rules and mechanics, please implement them in code:
1. Phase 2 starts and players get their stack cards on hand, now each player can only see his own hand of cards.
2. Before any moves, players with ‘bad cards’ counter should receive given number of cards from each player (if counter is 1, each player gives them 1 bad card, and so on)
3. When all players received bad cards, turns start. Player who drawn the last card in phase 1 has the first turn. Turns are rotated clockwise
4. When first player takes a turn, he chooses a card from his hand to put into battle pile
5. Next player takes turn and has to either take or beat card from the battle pile. If he decided to take it, he receives it into his hand and skips the move
6. If he decided to beat it, he can beat it with the higher rank of the same suite, or with any card of trump suite. 6 beats Ace of the same suite. Spades can be beat only with spades. 7 of spades beats everything (including trump cards) but can be beaten with spades. No cheating should be allowed here
7. If player successfully beats card during his turn, in case of 2 players they are discarded. In case of 3 players, he should now beat the top card of the previous two. If he is not able to beat it (or doesn’t want to), he takes the bottom card and skips the move, and the top card now should be beaten by the next player. Discarded cards number equals to number of players. If 5 players, 5 cards should be beaten until they are discarded and so on. If during his turn player gets moved on with (number of players - 1) cards and beats the top one, they only cards can be discarded and he can start an new turn. Battle pile is discarded once its number of cards reaches number of players. Player who put last card in, starts a new battle pile.
8. Game continues for a player until last card which player played duding his move is discarded, he cannot pick up hidden cards (which were dealt at beginning of phase 2)
9. Once card which player played duding his move is discarded and he has no more cards on deck, he should pick up his hidden cards and receive them on hand and continue the game
10. When player has no more cards on hand, and his last card played is discarded, he is out of the game (won)
11. The last players to stay with cards on hand is the loser, and his hidden cards number is incremented by one.  bugs - phase 1:
    1. When players stack is more than 1 card, card should not be drawn from deck automatically. Even if player has given his card(s) from stack to another player, he should make an action (click) to draw card from deck, it should not happen automatically 
    2. There can be only one drawn card, clicking on deck should not result in multiple drawn cards 

Bugs and clarifications for phase 1:
        1. Player should not be able to end turn without drawing from deck. First he should give cards from stack if available, and then draw. Turn only can end after drawn card was placed in his stack without applying seniority rule. Example: player’s turn starts, he gave few cards from stack, his top card is now 7 and he draws 10 from stack. His turn should now end automatically. Another example: player’s turn starts, he has 7 as top card. He cannot give it out to anyone because seniority rule doesn’t apply (other players don’t have 6). He draws 8, places it in his stack because other players don’t have 7 and continues to draw. When he draws 10 (which cannot be placed to anyone since nobody has 9), he places it in his stack and the turn should end automatically. Player should be able to end turn by placing drawn card in his stack. Currently he receives a bad card for it, which shouldn’t happen.

Changes of rules about phase 1: Trump suite should not be known until the phase 1 end. Trump suite should be the suite last drawn card, but if last card is spades, trump suite will be last card which is not Spades. So trump suite will always be chosen
